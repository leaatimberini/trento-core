graph TD
    subgraph Clients
        Web[ðŸ–¥ï¸ Admin / POS Web]
        Mobile[ðŸ“± App Vendedores]
        Bot[ðŸ¤– Telegram Bot]
    end

    subgraph "Reverse Proxy & Edge"
        Traefik[ðŸ›¡ï¸ Traefik Proxy]
    end

    subgraph "Core Backend (NestJS)"
        API[API Gateway]
        Auth[ðŸ” MÃ³dulo Auth]
        
        subgraph Modules
            Sales[ðŸ’° NÃºcleo de Ventas]
            Inventory[ðŸ“¦ Motor de Inventario]
            Wholesale[ðŸ­ B2B / Mayorista]
            Finance[ðŸ“‰ Finanzas e Impuestos]
            AI[ðŸ§  IA Cortex (Gemini)]
        end
        
        Jobs[â° Cron / Colas]
    end

    subgraph Infrastructure
        DB[(ðŸ˜ PostgreSQL)]
        Cache[(ðŸ”´ Redis)]
    end

    subgraph External Services
        Gemini[âœ¨ Google Gemini API]
        AFIP[ðŸ›ï¸ ARCA / AFIP]
        Telegram[âœˆï¸ Telegram API]
    end

    %% Connections
    Web --> Traefik
    Mobile --> Traefik
    Bot -- Webhook --> Traefik
    
    Traefik --> API
    
    API --> Auth
    Auth --> Modules
    
    Sales --> Inventory
    Wholesale --> Sales
    Wholesale --> Inventory
    AI --> Inventory
    AI --> Sales
    
    Modules --> DB
    Modules --> Cache
    
    AI --> Gemini
    Finance --> AFIP
    Jobs --> Telegram
